#!/usr/bin/env bash
set -euo pipefail

git_root=$(git rev-parse --show-toplevel 2>/dev/null) || {
  echo "Error: not in a git repository" >&2
  exit 1
}

msg="wip"
[[ $# -gt 0 ]] && msg="wip $*"

cd "$git_root"
git add .
git commit -m "$msg"
